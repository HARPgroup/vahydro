library(pander);
library(httr);
library(hydroTSM);
# save_directory <- "/var/www/html/files/fe/plots"
save_directory <- "/Users/jklei/Desktop/GitHub/plots"
site <- "http://deq2.bse.vt.edu/d.dh"
# Load Libraries
basepath='/var/www/R';
source('/var/www/R/config.R');
source(paste(hydro_tools,"auth.private", sep = "/"));
hydro_tools
library(pander);
library(httr);
library(hydroTSM);
# save_directory <- "/var/www/html/files/fe/plots"
save_directory <- "/Users/jklei/Desktop/GitHub/plots"
#----------------------------------------------
site <- "http://deq2.bse.vt.edu/d.dh"    #Specify the site of interest, either d.bet OR d.dh
#------------------------
basepath='/var/www/R';
source('/var/www/R/config.R');
basepath
options(timeout=1200); # set timeout to twice default level to avoid abort due to high traffic
elid = 258595
runid = 120
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
omsite
runid
elid
elid = 258595
runid = 12
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000))
elid = 247415 #BIG STONE GAP WTP:Powell River
runid = 601
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
elid = 4826467 #BIG STONE GAP WTP:Powell River
runid = 601
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
elid = 352078 #South Fork Powell River - Big Cherry Reservoir
runid = 601
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000))
title(main="main title", sub="sub-title",
xlab="x-axis label", ylab="y-axis label")
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000),
main="main title", sub="sub-title",
xlab="x-axis label", ylab="y-axis label"
)
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000),
main=paste("elid: ",elid," runid: ",runid,sep=""),
xlab="Date", ylab="Qout"
)
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000),
main=paste("elid: ",elid,"/nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout"
)
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout"
)
dat
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
paste("elid: ",elid,"\nrunid: ",runid,sep="")
elid,"_",runid,sep="")
paste(elid,"_",runid,sep="")
paste("rseg_model_Qout_",elid,"_",runid,".png",sep="")
paste("rseg_Qout_",elid,"_",runid,".png",sep="")
paste(save_directory,"rseg_Qout_",elid,"_",runid,".png",sep="")
paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep="")
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,1000),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
max(as.numeric(dat$Qout))
Qout_max <- max(as.numeric(dat$Qout))
Qout_max <- max(as.numeric(dat$Qout))
# PLOT DATA
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,Qout_max),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,Qout_max),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
boxplot(as.numeric(dat$Runit) ~ dat$year, ylim=c(0,3))
Runit_max <- max(as.numeric(dat$Runit))
Runit_max
boxplot(as.numeric(dat$Runit) ~ dat$year, ylim=c(0,Runit_max))
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,3),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
# PLOT DATA
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,30),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,20),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
boxplot(as.numeric(dat$Runit) ~ dat$year, ylim=c(0,5))
# PLOT Runit DATA
png(paste(save_directory,"/rseg_Runit_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Runit) ~ dat$year, ylim=c(0,5),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Runit (cfs)"
)
dev.off()
# PLOT Qout DATA
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,20),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
# PLOT Runit DATA
png(paste(save_directory,"/rseg_Runit_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Runit) ~ dat$year, ylim=c(0,5),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Runit (cfs)"
)
dev.off()
library(pander);
library(httr);
library(hydroTSM);
# save_directory <- "/var/www/html/files/fe/plots"
save_directory <- "/Users/jklei/Desktop/GitHub/plots"
site <- "http://deq2.bse.vt.edu/d.dh"    #Specify the site of interest, either d.bet OR d.dh
# Load Libraries
basepath='/var/www/R';
source('/var/www/R/config.R');
options(timeout=1200); # set timeout to twice default level to avoid abort due to high traffic
# elid = 258595
# runid = 12
elid = 352078 #South Fork Powell River - Big Cherry Reservoir
runid = 601
# GET DATA
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
# Qout_max <- max(as.numeric(dat$Qout))
# Runit_max <- max(as.numeric(dat$Runit))
# PLOT Qout DATA
png(paste(save_directory,"/rseg_Qout_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Qout) ~ dat$year, ylim=c(0,20),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Qout (cfs)"
)
dev.off()
# PLOT Runit DATA
png(paste(save_directory,"/rseg_Runit_",elid,"_",runid,".png",sep=""))
boxplot(as.numeric(dat$Runit) ~ dat$year, ylim=c(0,5),
main=paste("elid: ",elid,"\nrunid: ",runid,sep=""),
xlab="Date", ylab="Runit (cfs)"
)
dev.off()
library(pander);
library(httr);
library(hydroTSM);
# save_directory <- "/var/www/html/files/fe/plots"
save_directory <- "/Users/jklei/Desktop/GitHub/plots"
site <- "http://deq2.bse.vt.edu/d.dh"    #Specify the site of interest, either d.bet OR d.dh
# Load Libraries
basepath='/var/www/R';
source('/var/www/R/config.R');
options(timeout=1200); # set timeout to twice default level to avoid abort due to high traffic
elid = 352078 #South Fork Powell River - Big Cherry Reservoir
runid = 601
# GET DATA
omsite = site <- "http://deq2.bse.vt.edu"
dat <- fn_get_runfile(elid, runid, site= omsite,  cached = FALSE);
dat <- window(dat, start = as.Date("1984-10-01"), end = as.Date("2014-09-30"));
dat.df <- data.frame(dat)
View(dat.df)

legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.8),
y = c(37.15, 37.65))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.9),
y = c(37.15, 37.55))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.9),
y = c(37.10, 37.50))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.2, -79.8),
y = c(37.10, 37.50))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
View(intake_layer)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
facility_layer
intake_layer
facility_layer <-  sqldf('SELECT Facility_hydroid, facility_name, facility_status, facility_ftype, facility_lat, facility_long
FROM intake_layer
WHERE bin = 10')
facility_layer
######################################################################################################
facility_layer <-  sqldf('SELECT Facility_hydroid, facility_name, facility_status, facility_ftype, facility_lat, facility_long
FROM intake_layer')
facility_layer
facility_layer <-  sqldf('SELECT Facility_hydroid, facility_name, facility_status, facility_ftype, facility_lat, facility_long
FROM intake_layer
GROUP BY Facility_hydroid')
facility_layer
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.25, -79.85),
y = c(37.10, 37.50))
)
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
######################################################################################################
### SCENARIO COMPARISONS #############################################################################
######################################################################################################
#----------- RUN SINGLE MAP --------------------------
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
library(tictoc) #time elapsed
library(beepr) #play beep sound when done running
######################################################################################################
# LOAD FILES
######################################################################################################
#site <- "https://deq1.bse.vt.edu/d.dh/"
site <- "http://deq2.bse.vt.edu/d.dh/"
basepath <- "/var/www/R/"
source(paste(basepath,"config.local.private",sep = '/'))
#LOAD MAP LAYERS
source(paste(github_location,"/HARParchive/HARP-2020-2021/Cumulative Impact River Mile/CIA_maps.R",sep = '/'))
map_layers <- load_MapLayers(site = site) #WARNING - DO NOT ATTEMPT TO OUTPUT map_layers DIRECTLY TO YOUR CONSOLE, ITS A LIST OF MANY LARGE MAPPING LAYERS
if(!exists("map_layers")) {map_layers <- load_MapLayers(site = "http://deq2.bse.vt.edu/d.dh")} #Load map layers if they're not already loaded in the RStudio environment
# LOAD MAP LAYERS FROM THE map_layers LIST
STATES <- map_layers[[which(names(map_layers) == "STATES")]]
MinorBasins.csv <- map_layers[[which(names(map_layers) == "MinorBasins.csv")]]
RSeg.csv <- map_layers[[which(names(map_layers) == "RSeg.csv")]]
MajorRivers.csv <- map_layers[[which(names(map_layers) == "MajorRivers.csv")]]
fips.csv <- map_layers[[which(names(map_layers) == "fips.csv")]]
WBDF <- map_layers[[which(names(map_layers) == "WBDF")]]
# #DOWNLOAD STATES AND MINOR BASIN LAYERS DIRECT FROM GITHUB
# STATES <- read.table(file = 'https://raw.githubusercontent.com/HARPgroup/HARParchive/master/GIS_layers/STATES.tsv', sep = '\t', header = TRUE)
# MinorBasins.csv <- read.table(file = 'https://raw.githubusercontent.com/HARPgroup/HARParchive/master/GIS_layers/MinorBasins.csv', sep = ',', header = TRUE)
#
# #DOWNLOAD RSEG LAYER DIRECT FROM VAHYDRO
# localpath <- tempdir()
# filename <- paste("vahydro_riversegs_export.csv",sep="")
# destfile <- paste(localpath,filename,sep="\\")
# download.file(paste(site,"vahydro_riversegs_export",sep=""), destfile = destfile, method = "libcurl")
# RSeg.csv <- read.csv(file=paste(localpath , filename,sep="\\"), header=TRUE, sep=",")
# MajorRivers.csv <- read.table(file = 'https://raw.githubusercontent.com/HARPgroup/HARParchive/master/GIS_layers/MajorRivers.csv', sep = ',', header = TRUE)
#
# #DOWNLOAD FIPS LAYER DIRECT FROM VAHYDRO
# fips_filename <- paste("vahydro_usafips_export.csv",sep="")
# fips_destfile <- paste(localpath,fips_filename,sep="\\")
# download.file(paste(site,"usafips_centroid_export",sep=""), destfile = fips_destfile, method = "libcurl")
# fips.csv <- read.csv(file=paste(localpath , fips_filename,sep="\\"), header=TRUE, sep=",")
#
#DOWNLOAD IFIM LAYER FROM VAHYDRO
localpath <- tempdir()
ifim_filename <- paste("ifim_transects.csv",sep="")
ifim_destfile <- paste(localpath,ifim_filename,sep="\\")
download.file(paste(site,"ifim_flow_export",sep=""), destfile = ifim_destfile, method = "libcurl")
ifim.csv <- read.csv(file=paste(localpath , ifim_filename,sep="\\"), header=TRUE, sep=",")
#
# #DOWNLOAD RESERVOIR LAYER FROM LOCAL REPO
# WBDF <- read.table(file=paste(hydro_tools,"GIS_LAYERS","WBDF.csv",sep="/"), header=TRUE, sep=",")
#LOAD RAW mp.all FILE
mp.all <- read.csv(paste(folder,"wsp2020.mp.all.MinorBasins_RSegs.csv",sep=""))
#LOAD MAPPING FUNCTIONS
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/minorbasin.mapgen.SINGLE.SCENARIO.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/mb.extent.R",sep = '/'))
source(paste(vahydro_location,"R/wsp/wsp2020/FoundationDataset/geo_summaries/map.divs.R",sep = '/'))
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
#LOAD RAW mp.all FILE
mp.all <- read.csv(paste(folder,"wsp2020.mp.all.MinorBasins_RSegs.csv",sep=""))
minorbasin.mapgen(minorbasin = "OR",
metric = "l90_Qout",
runid_a = "runid_11",
runid_b = "runid_13",
wd_points = "ON",
rsegs = "ON",
custom.legend = TRUE,
legend_colors = c("#ad6c51","#d98f50","#f7d679","white","#E4FFB9","darkolivegreen3","darkolivegreen4"),
legend_divs = c(-20,-10,-1,1,10,20),
extent = data.frame(x = c(-80.3, -79.55),
y = c(36.90, 37.65))
)
